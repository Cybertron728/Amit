<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Editor Portfolio - Amit</title>
    
    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png?v=2">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png?v=2">
    <link rel="apple-touch-icon" href="apple-touch-icon.png?v=2">

    <!-- Load Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    <!-- Use Inter font --><style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
            overflow-x: hidden; 
            cursor: none;
        }

        /* ---------------- INTRO OVERLAY ---------------- */
        #intro-overlay {
            position: fixed;
            inset: 0;
            z-index: 9999;
            pointer-events: none;
            display: block; 
        }

        .intro-panel {
            position: absolute;
            left: 0;
            width: 100%;
            height: 50%;
            background: linear-gradient(135deg, #1f2937, #111827); 
            transform: translateY(0);
            transition: transform 1.3s cubic-bezier(0.16, 1, 0.3, 1);
            z-index: 10000;
        }

        .intro-top {
            top: 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .intro-bottom {
            bottom: 0;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .intro-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(1);
            font-size: 60px;
            font-weight: 800;
            color: #6366f1; 
            opacity: 1;
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
            z-index: 10001;
        }

        /* ---------------- HERO BG ---------------- */
        .hero-bg {
            /* UPDATED HERO IMAGE */
            background-image: url('https://9bbqe2ddwjuwuyon.public.blob.vercel-storage.com/hero.webp'); 
            background-size: cover;
            background-position: center;
            opacity: 0.25;
            position: absolute;
            inset: 0;
            z-index: -2;
        }

        .hero-overlay {
            position: absolute;
            inset: 0;
            z-index: -1;
            background: linear-gradient(to top,
                rgba(17, 24, 39, 1),
                rgba(17, 24, 39, 0.6),
                rgba(17, 24, 39, 0)
            );
        }
        
        #hero-sub, #hero-buttons {
            transition: opacity 1s ease-out, transform 1s ease-out;
        }

        /* Typing Effect Cursor */
        .typing-cursor::after {
            content: '|';
            animation: blink 1s step-start infinite;
            color: #6366f1; 
            margin-left: 2px;
        }

        @keyframes blink {
            50% { opacity: 0; }
        }

        /* --- Showreel Background Pattern (Top) --- */
        .showreel-bg-pattern {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 55%; 
            z-index: 0;
            background: repeating-linear-gradient(
                90deg,
                transparent 0,
                transparent 60px,           
                rgba(99, 102, 241, 0.1) 60px,   
                rgba(99, 102, 241, 0.2) 100px,  
                rgba(99, 102, 241, 0.1) 140px,  
                transparent 140px,
                transparent 240px           
            );
            opacity: 1;
            -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 40%, black 60%, transparent 100%);
            mask-image: linear-gradient(to bottom, transparent 0%, black 40%, black 60%, transparent 100%);
            pointer-events: none;
        }

        /* --- Contact Background Pattern (Bottom) --- */
        .contact-bg-pattern {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%; 
            z-index: 0;
            background: repeating-linear-gradient(
                90deg,
                transparent 0,
                transparent 60px,           
                rgba(99, 102, 241, 0.1) 60px,   
                rgba(99, 102, 241, 0.2) 100px,  
                rgba(99, 102, 241, 0.1) 140px,  
                transparent 140px,
                transparent 240px           
            );
            opacity: 1;
            -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 40%, black 60%, transparent 100%);
            mask-image: linear-gradient(to bottom, transparent 0%, black 40%, black 60%, transparent 100%);
            pointer-events: none;
        }

        /* --- Scroll Reveal Animation Styles (Sections) --- */
        .hide-initial {
            opacity: 0;
            transform: translateY(20px);
        }

        .animate-in {
            opacity: 1;
            transform: translateY(0);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        /* --- CAROUSEL SCROLL REVEAL ANIMATION --- */
        #coverflow-wrap.carousel-hidden {
            opacity: 0;
            transform: translateY(60px) scale(0.9);
        }

        #coverflow-wrap.carousel-visible {
            opacity: 1;
            transform: translateY(0) scale(1);
            transition: opacity 1s ease-out, transform 1s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @media (max-width: 640px) {
            .animate-in {
                transition: opacity 1.2s ease-out, transform 1.2s ease-out; 
            }
            #coverflow-wrap.carousel-visible {
                transition: opacity 1.5s ease-out, transform 1.5s cubic-bezier(0.16, 1, 0.3, 1); 
            }
            #more-projects {
                margin-top: 12rem; 
            }
            .hero-bg {
                background-position: center 20%;
            }
        }
        
        /* --- Carousel Active Card Animation (Floating) --- */
        @keyframes float-center {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-12px) scale(1); }
        }
        .anim-floating {
            animation: float-center 4s ease-in-out infinite;
        }

        /* --- Custom Cursor Overrides --- */
        a, button, input, textarea, .cf-card, .cf-arrow, video {
            cursor: none !important;
        }

        /* --- CUSTOM CURSOR STYLES --- */
        .cursor-dot, .cursor-ring {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 10000;
            opacity: 1;
            transform: translate(-50%, -50%);
        }
        .cursor-dot {
            width: 8px;
            height: 8px;
            background-color: #6366f1; 
            border-radius: 50%;
            transition: background-color 0.2s ease;
        }
        .cursor-ring {
            width: 32px;
            height: 32px;
            border: 1px solid rgba(99, 102, 241, 0.5);
            border-radius: 50%;
            transition: width 0.3s ease, height 0.3s ease, border-color 0.3s ease, background-color 0.3s ease, transform 0.1s linear;
        }
        
        .cursor-pointer-active .cursor-dot {
            background-color: #e0f2f1;
        }
        .cursor-pointer-active .cursor-ring {
            width: 48px;
            height: 48px;
            border: 1px solid rgba(99, 102, 241, 0.8);
            background-color: rgba(99, 102, 241, 0.2);
        }

        /* Custom video placeholder styling */
        .video-placeholder {
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            position: relative;
            background-color: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.5rem;
            transition: transform 0.2s ease;
            cursor: none !important;
            overflow: hidden;
        }
        .video-placeholder:hover {
            transform: translateY(-4px);
        }
        
        /* Make video fill container */
        .video-placeholder video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 0.5rem;
            object-fit: cover;
        }
        
        /* --- TEXT GLOW STYLES --- */
        .text-glow {
            color: #ffffff; 
            text-shadow: 
                0 0 10px rgba(99, 102, 241, 0.6), 
                0 0 20px rgba(99, 102, 241, 0.3); 
            transition: text-shadow 0.3s ease;
        }

        /* ================= CINEMA MODE / TUBELIGHT ================= */
        
        /* The dark overlay */
        #cinema-overlay {
            position: fixed;
            inset: 0;
            background: rgba(17, 24, 39, 0.95); /* Dark gray/black fade */
            z-index: 9998; 
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.6s ease;
            backdrop-filter: blur(2px);
        }
        
        /* Body class when active */
        body.cinema-active #cinema-overlay {
            opacity: 1;
            pointer-events: auto;
        }
        
        /* FIX: When active, we must lift the parent section above the overlay 
           because the parent has a transform that creates a stacking context.
        */
        body.cinema-active #portfolio .section-content {
            z-index: 10000;
            position: relative;
        }

        /* UPDATED SELECTOR: 
           We target direct children of section-content, but EXCLUDE #showreel-container.
           This ensures the container (and the video inside it) stays opaque.
        */
        body.cinema-active #portfolio .section-content > *:not(#showreel-container) {
            opacity: 0.1;
            transition: opacity 0.5s ease;
            pointer-events: none;
            filter: blur(2px); /* Optional: adds focus to video */
        }

        /* The Video Container when active */
        body.cinema-active #showreel-wrapper {
            position: relative;
            z-index: 10001; 
            transform: scale(1.05); /* Slightly larger for impact */
            transition: transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
            box-shadow: 0 0 0 100vmax rgba(0,0,0,0.6); /* Extra localized darkening helper */
        }
        
        /* The Tubelight Switch */
        .tubelight-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            margin-top: 1rem;
            opacity: 0.8;
            transition: opacity 0.3s;
        }
        .tubelight-container:hover {
            opacity: 1;
        }
        
        .tubelight {
            width: 60px;
            height: 6px;
            background: #e0e7ff;
            border-radius: 9999px;
            /* Neon Glow ON state */
            box-shadow: 
                0 0 5px #fff,
                0 0 10px #fff,
                0 0 20px #6366f1,
                0 0 30px #6366f1,
                0 0 40px #6366f1;
            transition: all 0.3s ease;
        }
        
        /* Off state for the light itself (when cinema mode is ON, maybe we dim the light? 
           Or keep it on to show it's the source? 
           Let's dim it slightly to indicate "Lights are dimmed" metaphor) */
        body.cinema-active .tubelight {
            background: #4338ca; /* Darker purple */
            box-shadow: 
                0 0 2px #6366f1,
                0 0 5px #4338ca;
        }
        
        .tubelight-label {
            margin-top: 8px;
            font-size: 0.75rem;
            color: #818cf8;
            letter-spacing: 0.05em;
            font-weight: 600;
            text-transform: uppercase;
            opacity: 0;
            transform: translateY(-5px);
            transition: all 0.3s ease;
        }
        .tubelight-container:hover .tubelight-label {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* ================= CAROUSEL 3D CSS (Coverflow) ================= */

        .cf-card {
            width: 250px; /* Desktop size */
            aspect-ratio: 9 / 16;
            border-radius: 14px;
            overflow: hidden;
            background: linear-gradient(180deg,#24303a,#2D3748);
            border: 1px solid rgba(255,255,255,0.04);
            box-shadow: 0 6px 24px rgba(0,0,0,0.6) inset;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #c7d2fe;
            font-weight: 700;
            pointer-events: auto;
            transition: box-shadow 0.3s ease, border-color 0.3s ease;
            position: relative;
        }
        
        /* Video inside card */
        .cf-card video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        #coverflow {
            position: absolute;
            inset: 0;
            perspective: 1200px;
            user-select: none;
            touch-action: pan-y;
            pointer-events: none;
        }

        .cf-item {
            position: absolute;
            top: 50%;
            left: 50%;
            transform-origin: center center;
            transition: transform 0.5s cubic-bezier(0.2, 0.5, 0.4, 1), opacity 0.4s ease;
            will-change: transform, opacity;
            transform-style: preserve-3d;
            pointer-events: auto;
        }

        .cf-arrow {
            background: rgba(255, 255, 255, 0.05);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.1);
            width: 56px;
            height: 56px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0; 
            cursor: none !important;
            backdrop-filter: blur(12px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            z-index: 999;
            pointer-events: auto;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .cf-arrow:hover { 
            transform: scale(1.1);
            background: rgba(99, 102, 241, 0.2);
            border-color: rgba(99, 102, 241, 0.6);
            box-shadow: 0 0 15px rgba(99, 102, 241, 0.4);
            color: #818cf8;
        }
        .cf-arrow:active { transform: scale(0.95); }
        .cf-arrow svg { width: 24px; height: 24px; stroke-width: 2.5; }

        @media (max-width: 640px) {
            .cf-card { width: 180px; border-radius: 10px; }
            #coverflow-wrap { height: 520px; }
            .cf-arrow { width: 48px; height: 48px; }
            .cf-arrow svg { width: 20px; height: 20px; }
        }

        .cf-hidden {
            opacity: 0;
            pointer-events: none;
            transform: translateX(-50%) translateZ(-200px) scale(.8) !important;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 antialiased">

    <!-- CINEMA MODE OVERLAY -->
    <div id="cinema-overlay"></div>

    <!-- SPLIT-SCREEN INTRO -->
    <div id="intro-overlay">
        <div class="intro-panel intro-top"></div>
        <div class="intro-panel intro-bottom"></div>
        <div class="intro-icon">A</div>
    </div>

    <!-- CUSTOM CURSOR ELEMENTS -->
    <div class="cursor-dot"></div>
    <div class="cursor-ring"></div>

    <!-- Header & Navigation -->
    <header class="sticky top-0 z-50 bg-gray-900/90 backdrop-blur-sm shadow-md">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-indigo-400">Amit</h1>
            <nav>
                <a href="#portfolio" class="text-gray-300 hover:text-indigo-400 px-3 py-2 rounded-md text-sm font-medium transition duration-150">Portfolio</a>
                <a href="#about" class="text-gray-300 hover:text-indigo-400 px-3 py-2 rounded-md text-sm font-medium transition duration-150">About</a>
                <a href="#contact" class="text-gray-300 hover:text-indigo-400 px-3 py-2 rounded-md text-sm font-medium transition duration-150">Contact</a>
            </nav>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section id="hero" class="relative flex flex-col items-center justify-center text-center min-h-[88vh] overflow-hidden">
            
            <!-- Local Hero Background -->
            <div class="hero-bg"></div>
            <div class="hero-overlay"></div>

            <div class="relative z-10 px-6">
                <h1 class="text-5xl sm:text-7xl font-extrabold text-white mb-4 opacity-0 transform translate-y-4 min-h-[1.2em]" id="hero-title">
                    <!-- Text injected by JS -->
                </h1>

                <p class="text-xl text-gray-300 max-w-xl mx-auto opacity-0 transform translate-y-4" id="hero-sub">
                    Bringing your Story to Life
                </p>

                <div class="mt-10 flex justify-center gap-4 opacity-0 transform translate-y-4" id="hero-buttons">
                    <a href="#portfolio" class="px-6 py-3 rounded-full bg-indigo-600 text-white font-medium hover:bg-indigo-700 transition">
                        View Work
                    </a>
                    <a href="#contact" class="px-6 py-3 rounded-full bg-gray-800 text-indigo-400 border border-indigo-600 hover:bg-gray-700 transition">
                        Get in Touch
                    </a>
                </div>
            </div>

        </section>

        <!-- Portfolio Grid Section -->
        <section id="portfolio" class="relative py-16 sm:py-24 bg-gray-900 overflow-hidden">
            
            <!-- Top Slat Background Pattern -->
            <div class="showreel-bg-pattern"></div>

            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 section-content hide-initial relative z-10">
                
                <!-- 1. Showreel Section -->
                <div class="text-center mb-12">
                    <h3 class="text-3xl sm:text-4xl font-extrabold text-glow">Showreel</h3>
                    
                    <!-- TUBELIGHT SWITCH -->
                    <div class="tubelight-container" id="cinema-toggle" title="Dim the lights">
                        <div class="tubelight"></div>
                        <span class="tubelight-label">Dim Lights</span>
                    </div>
                </div>

                <!-- UPDATED: Added ID 'showreel-container' to the direct parent div -->
                <div id="showreel-container" class="max-w-3xl mx-auto mb-10">
                    <!-- Added ID #showreel-wrapper for Cinema Mode targeting -->
                    <div id="showreel-wrapper" class="relative p-2 rounded-2xl backdrop-blur-xl bg-white/5 border border-white/5 before:absolute before:inset-0 before:rounded-2xl before:bg-gradient-to-r before:from-indigo-500/25 before:to-purple-500/25 before:blur-[55px] before:-z-10 transition-all duration-500">
                        <div class="video-placeholder">
                            <!-- UPDATED MAIN SHOWREEL: Added id, muted for autoplay policy, and playsinline -->
                            <video id="main-showreel" controls muted playsinline poster="https://placehold.co/1920x1080/1f2937/6366f1?text=Showreel+Loading..." class="w-full h-full object-cover">
                                <source src="https://9bbqe2ddwjuwuyon.public.blob.vercel-storage.com/Video%20ShowReel.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                        </div>
                    </div>
                </div>

                <!-- 2. More Projects Carousel (Coverflow) -->
                <section id="more-projects" class="mt-24">
                    <div class="flex justify-center relative z-20" style="transform: translateY(15px);">
                        <h3 class="text-3xl sm:text-4xl font-semibold text-glow -mb-12">More Projects</h3>
                    </div>

                    <div class="relative flex justify-center w-full">
                        <div id="coverflow-wrap" class="relative w-full max-w-6xl h-[680px] mx-auto cursor-none carousel-hidden">
                            <div id="coverflow" class="absolute inset-0 pointer-events-auto"></div>
                            
                            <!-- Modern Arrows -->
                            <!-- UPDATED: Lowered by another 4px (from bottom-[32px] to bottom-[28px]) -->
                            <div class="absolute left-1/2 -translate-x-1/2 bottom-[28px] flex gap-8 z-30">
                                <button id="prevCF" class="cf-arrow" aria-label="Previous">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" /></svg>
                                </button>
                                <button id="nextCF" class="cf-arrow" aria-label="Next">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" /></svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </section>
                
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="py-16 sm:py-24">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 section-content hide-initial">
                <div class="lg:flex lg:items-start lg:space-x-12">
                    <div class="lg:w-1/2">
                        <h3 class="text-4xl font-extrabold text-white mb-8">The Editor Behind the Screen</h3>
                        
                        <div class="space-y-6">
                            <!-- 1. Origin -->
                            <div class="flex gap-4">
                                <div class="flex-shrink-0 mt-1">
                                    <div class="flex items-center justify-center w-10 h-10 rounded-full bg-indigo-500/10 text-indigo-400 ring-1 ring-indigo-500/50">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z" />
                                        </svg>
                                    </div>
                                </div>
                                <div>
                                    <h4 class="text-lg font-bold text-white">Passion for Video</h4>
                                    <p class="text-gray-400 mt-1 leading-relaxed">My journey began with editing for YouTube, where I discovered my deep interest in visual storytelling.</p>
                                </div>
                            </div>

                            <!-- 2. Focus -->
                            <div class="flex gap-4">
                                <div class="flex-shrink-0 mt-1">
                                    <div class="flex items-center justify-center w-10 h-10 rounded-full bg-indigo-500/10 text-indigo-400 ring-1 ring-indigo-500/50">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008zm0 3h.008v.008h-.008v-.008zm0 3h.008v.008h-.008v-.008z" />
                                        </svg>
                                    </div>
                                </div>
                                <div>
                                    <h4 class="text-lg font-bold text-white">Specialized Edits</h4>
                                    <p class="text-gray-400 mt-1 leading-relaxed">I specialize in creating high-impact Real Estate walkthroughs and engaging UGC edits.</p>
                                </div>
                            </div>

                            <!-- 3. Tools -->
                            <div class="flex gap-4">
                                <div class="flex-shrink-0 mt-1">
                                    <div class="flex items-center justify-center w-10 h-10 rounded-full bg-indigo-500/10 text-indigo-400 ring-1 ring-indigo-500/50">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42" />
                                        </svg>
                                    </div>
                                </div>
                                <div>
                                    <h4 class="text-lg font-bold text-white">Clean Aesthetics</h4>
                                    <p class="text-gray-400 mt-1 leading-relaxed">Using Premiere Pro and After Effects, I craft videos that are clean, smooth, and visually engaging.</p>
                                </div>
                            </div>

                            <!-- 4. Delivery -->
                            <div class="flex gap-4">
                                <div class="flex-shrink-0 mt-1">
                                    <div class="flex items-center justify-center w-10 h-10 rounded-full bg-indigo-500/10 text-indigo-400 ring-1 ring-indigo-500/50">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                                        </svg>
                                    </div>
                                </div>
                                <div>
                                    <h4 class="text-lg font-bold text-white">Client Focused</h4>
                                    <p class="text-gray-400 mt-1 leading-relaxed">I deliver fast results under tight deadlines with clear communication to match your vision.</p>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="lg:w-1/2 mt-10 lg:mt-0">
                        <div class="bg-gray-800 p-8 rounded-xl shadow-xl border border-gray-700/50">
                            <h4 class="text-2xl font-bold text-indigo-400 mb-6">Technical Arsenal</h4>
                            
                            <!-- Software Row -->
                            <div class="mb-8">
                                <h5 class="text-xs uppercase tracking-wider text-gray-500 font-bold mb-4">Software Proficiency</h5>
                                <div class="grid grid-cols-2 gap-4">
                                    <!-- Premiere Pro Card -->
                                    <div class="group p-4 bg-gray-900/50 hover:bg-gray-900 transition-colors rounded-lg border border-gray-700 flex items-center space-x-4">
                                        <div class="w-12 h-12 bg-purple-900/80 text-purple-200 flex items-center justify-center font-bold text-xl rounded-lg shadow-lg border border-purple-500/30 group-hover:scale-105 transition-transform">
                                            Pr
                                        </div>
                                        <div>
                                            <span class="block text-gray-200 font-bold text-sm">Premiere Pro</span>
                                            <span class="block text-gray-500 text-xs">Advanced</span>
                                        </div>
                                    </div>
                                    
                                    <!-- After Effects Card -->
                                    <div class="group p-4 bg-gray-900/50 hover:bg-gray-900 transition-colors rounded-lg border border-gray-700 flex items-center space-x-4">
                                        <div class="w-12 h-12 bg-indigo-900/80 text-indigo-200 flex items-center justify-center font-bold text-xl rounded-lg shadow-lg border border-indigo-500/30 group-hover:scale-105 transition-transform">
                                            Ae
                                        </div>
                                        <div>
                                            <span class="block text-gray-200 font-bold text-sm">After Effects</span>
                                            <span class="block text-gray-500 text-xs">Motion FX</span>
                                        </div>
                                    </div>

                                    <!-- DaVinci Resolve Card -->
                                    <div class="group p-4 bg-gray-900/50 hover:bg-gray-900 transition-colors rounded-lg border border-gray-700 flex items-center space-x-4">
                                        <div class="w-12 h-12 bg-rose-900/80 text-rose-200 flex items-center justify-center font-bold text-xl rounded-lg shadow-lg border border-rose-500/30 group-hover:scale-105 transition-transform">
                                            Dv
                                        </div>
                                        <div>
                                            <span class="block text-gray-200 font-bold text-sm">DaVinci Resolve</span>
                                            <span class="block text-gray-500 text-xs">Color Grading</span>
                                        </div>
                                    </div>

                                    <!-- Photoshop Card -->
                                    <div class="group p-4 bg-gray-900/50 hover:bg-gray-900 transition-colors rounded-lg border border-gray-700 flex items-center space-x-4">
                                        <div class="w-12 h-12 bg-blue-900/80 text-blue-200 flex items-center justify-center font-bold text-xl rounded-lg shadow-lg border border-blue-500/30 group-hover:scale-105 transition-transform">
                                            Ps
                                        </div>
                                        <div>
                                            <span class="block text-gray-200 font-bold text-sm">Photoshop</span>
                                            <span class="block text-gray-500 text-xs">Design Assets</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Technical Tags -->
                            <div>
                                <h5 class="text-xs uppercase tracking-wider text-gray-500 font-bold mb-4">Core Competencies</h5>
                                <div class="flex flex-wrap gap-2">
                                    <span class="px-3 py-1.5 rounded-md bg-gray-700/50 border border-gray-600 text-indigo-200 text-sm font-medium hover:border-indigo-500/50 transition-colors">Motion Graphics</span>
                                    <span class="px-3 py-1.5 rounded-md bg-gray-700/50 border border-gray-600 text-indigo-200 text-sm font-medium hover:border-indigo-500/50 transition-colors">Color Grading</span>
                                    <span class="px-3 py-1.5 rounded-md bg-gray-700/50 border border-gray-600 text-indigo-200 text-sm font-medium hover:border-indigo-500/50 transition-colors">Sound Design</span>
                                    <span class="px-3 py-1.5 rounded-md bg-gray-700/50 border border-gray-600 text-indigo-200 text-sm font-medium hover:border-indigo-500/50 transition-colors">Visual Effects</span>
                                    <span class="px-3 py-1.5 rounded-md bg-gray-700/50 border border-gray-600 text-indigo-200 text-sm font-medium hover:border-indigo-500/50 transition-colors">Seamless Transitions</span>
                                    <span class="px-3 py-1.5 rounded-md bg-gray-700/50 border border-gray-600 text-indigo-200 text-sm font-medium hover:border-indigo-500/50 transition-colors">Text Animation</span>
                                    <span class="px-3 py-1.5 rounded-md bg-gray-700/50 border border-gray-600 text-indigo-200 text-sm font-medium hover:border-indigo-500/50 transition-colors">Pacing & Rhythm</span>
                                    <span class="px-3 py-1.5 rounded-md bg-gray-700/50 border border-gray-600 text-indigo-200 text-sm font-medium hover:border-indigo-500/50 transition-colors">Storytelling</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Contact Section -->
            <section id="contact" class="relative py-16 sm:py-24 bg-gray-900 overflow-hidden">
                
                <!-- Bottom Slat Background Pattern -->
                <div class="contact-bg-pattern"></div>

                <div class="max-w-xl mx-auto px-4 sm:px-6 lg:px-8 text-center section-content hide-initial relative z-10">
                    <h3 class="text-4xl font-extrabold text-white">Contact</h3>
                    <p class="mt-4 text-xl text-gray-400 mb-12">Reach me directly via WhatsApp or email.</p>
                    <div class="mt-8 flex flex-col sm:flex-row justify-center space-y-6 sm:space-y-0 sm:space-x-8">
                        <a href="https://wa.me/7284020388" target="_blank" class="flex items-center justify-center px-6 py-2 text-base font-bold rounded-xl shadow-2xl text-white bg-green-600 hover:bg-green-700 transition duration-150 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-500/50">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="mr-3">
                                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
                            </svg>
                            WhatsApp
                        </a>
                        <a href="mailto:amitparmar7990@gmail.com" class="flex items-center justify-center px-6 py-2 text-base font-bold rounded-xl shadow-2xl text-indigo-400 border-2 border-indigo-600 bg-gray-800 hover:bg-gray-700 transition duration-150 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-indigo-500/50">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-6 h-6 mr-3"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.625a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" /></svg>
                            Email
                        </a>
                    </div>
                </div>
            </section>

    <!-- Footer --><footer class="bg-gray-900 border-t border-gray-800">
        <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8 text-center">
            <p class="text-gray-500 text-sm">&copy; 2025 Amit. All Rights Reserved.</p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // ---------------- INTRO ANIMATION & TYPING ---------------- //
        window.addEventListener('load', () => {
            const topPanel = document.querySelector('.intro-top');
            const bottomPanel = document.querySelector('.intro-bottom');
            const icon = document.querySelector('.intro-icon');
            const overlay = document.getElementById('intro-overlay');

            setTimeout(() => {
                if(topPanel) topPanel.style.transform = 'translateY(-100%)';
                if(bottomPanel) bottomPanel.style.transform = 'translateY(100%)';

                if(icon) {
                    icon.style.opacity = '0';
                    icon.style.transform = 'translate(-50%, -50%) scale(0.6)';
                }

                setTimeout(() => {
                    if(overlay) overlay.style.display = 'none';

                    const title = document.getElementById('hero-title');
                    if(title) {
                        title.style.opacity = 1;
                        title.style.transform = 'translateY(0)';
                        typeHeroText();
                    } else {
                        revealHeroContent();
                    }
                    
                    initScrollObserver();
                }, 800);
            }, 500); 
        });

        function typeHeroText() {
            const title = document.getElementById('hero-title');
            const fullText = "Real to Reel";
            const typingSpeed = 100; 
            
            title.classList.add('typing-cursor');
            title.textContent = ""; 

            let i = 0;
            function type() {
                if (i < fullText.length) {
                    title.textContent += fullText.charAt(i);
                    i++;
                    setTimeout(type, typingSpeed);
                } else {
                    setTimeout(() => {
                        title.classList.remove('typing-cursor');
                        revealHeroContent();
                    }, 500);
                }
            }
            type();
        }

        function revealHeroContent() {
            const sub = document.getElementById('hero-sub');
            const buttons = document.getElementById('hero-buttons');
            
            if(sub) {
                sub.style.opacity = 1;
                sub.style.transform = 'translateY(0)';
            }
            if(buttons) {
                buttons.style.opacity = 1;
                buttons.style.transform = 'translateY(0)';
            }
        }

        // --- CUSTOM CURSOR ---
        const cursorDot = document.querySelector('.cursor-dot');
        const cursorRing = document.querySelector('.cursor-ring');
        const interactiveElements = 'a, button, .video-placeholder, .cf-card, input, textarea, video';
        const body = document.body;
        
        const isMobile = window.innerWidth <= 640 || ('ontouchstart' in window);

        if (!isMobile) {
            let mouseX = 0, mouseY = 0;
            let ringX = 0, ringY = 0;
            const smoothFactor = 0.15;

            document.addEventListener('mousemove', (e) => {
                mouseX = e.clientX;
                mouseY = e.clientY;
                cursorDot.style.transform = `translate(${mouseX}px, ${mouseY}px) translate(-50%, -50%)`;
            });

            function animateCursor() {
                ringX += (mouseX - ringX) * smoothFactor;
                ringY += (mouseY - ringY) * smoothFactor;
                cursorRing.style.transform = `translate(${ringX}px, ${ringY}px) translate(-50%, -50%)`;
                requestAnimationFrame(animateCursor);
            }
            animateCursor();

            document.querySelectorAll(interactiveElements).forEach(el => {
                el.addEventListener('mouseenter', () => body.classList.add('cursor-pointer-active'));
                el.addEventListener('mouseleave', () => body.classList.remove('cursor-pointer-active'));
            });
        } else {
            if (cursorDot) cursorDot.remove();
            if (cursorRing) cursorRing.remove();
            body.style.cursor = 'auto';
            document.querySelectorAll(interactiveElements).forEach(el => {
                el.style.cursor = 'pointer';
            });
        }

        // --- Scroll Observer ---
        function initScrollObserver() {
            const animatedSections = document.querySelectorAll('.section-content');
            const carouselWrapper = document.getElementById('coverflow-wrap');
            
            // 1. Animation Observer (Fade in sections)
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        if (entry.target.id === 'coverflow-wrap') {
                            entry.target.classList.remove('carousel-hidden');
                            entry.target.classList.add('carousel-visible');
                        } else {
                            entry.target.classList.remove('hide-initial');
                            entry.target.classList.add('animate-in');
                        }
                        observer.unobserve(entry.target);
                    }
                });
            }, {
                rootMargin: '0px 0px -100px 0px', 
                threshold: 0.1 
            });

            animatedSections.forEach(section => {
                if (!section.closest('#hero')) {
                    observer.observe(section);
                }
            });
            
            if (carouselWrapper) {
                observer.observe(carouselWrapper);
            }

            // 2. Showreel Autoplay Observer (Play when "approached"/visible)
            const showreel = document.getElementById('main-showreel');
            if (showreel) {
                const videoObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            // Only autoplay if NOT in cinema mode (user might have paused it manually)
                            // Or we can enforce it. Let's keep standard behavior.
                            showreel.play().catch(e => console.log("Autoplay prevented:", e));
                        } else {
                            showreel.pause();
                        }
                    });
                }, { threshold: 0.5 }); 
                videoObserver.observe(showreel);
            }
            
            // 3. CINEMA MODE LOGIC
            const cinemaToggle = document.getElementById('cinema-toggle');
            const cinemaOverlay = document.getElementById('cinema-overlay');
            
            function closeCinemaMode() {
                if (document.body.classList.contains('cinema-active')) {
                    document.body.classList.remove('cinema-active');
                }
            }

            if (cinemaToggle) {
                cinemaToggle.addEventListener('click', (e) => {
                    e.stopPropagation();
                    document.body.classList.toggle('cinema-active');
                });
                
                if (cinemaOverlay) {
                    cinemaOverlay.addEventListener('click', closeCinemaMode);
                }
            }

            // Break dim on scroll (Desktop & Mobile)
            window.addEventListener('scroll', () => {
                if (document.body.classList.contains('cinema-active')) {
                    closeCinemaMode();
                }
            }, { passive: true });
            
            // Break dim on touch move (Mobile swipe)
            window.addEventListener('touchmove', () => {
                if (document.body.classList.contains('cinema-active')) {
                    closeCinemaMode();
                }
            }, { passive: true });
            
            // Break dim on escape key
            window.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') closeCinemaMode();
            });

            setTimeout(() => {
                animatedSections.forEach(section => {
                    const rect = section.getBoundingClientRect();
                    const isVisible = (rect.top < window.innerHeight) && (rect.bottom > 0);
                    if (isVisible && section.classList.contains('hide-initial')) {
                        section.classList.remove('hide-initial');
                        section.classList.add('animate-in');
                        observer.unobserve(section);
                    }
                });
                if (carouselWrapper) {
                    const rect = carouselWrapper.getBoundingClientRect();
                    const isVisible = (rect.top < window.innerHeight) && (rect.bottom > 0);
                    if (isVisible && carouselWrapper.classList.contains('carousel-hidden')) {
                        carouselWrapper.classList.remove('carousel-hidden');
                        carouselWrapper.classList.add('carousel-visible');
                        observer.unobserve(carouselWrapper);
                    }
                }
            }, 50);
        }

        // ================= CAROUSEL JS =================
        (() => {
            // UPDATED CONTENTS: Now 6 items
            const contents = [
                'https://9bbqe2ddwjuwuyon.public.blob.vercel-storage.com/%5BZM%5D%20-%20%5BGrossmanPA%5D%20-%20%5BAD%205%5D%20-%20Damage%20review_1.mp4', 
                'https://9bbqe2ddwjuwuyon.public.blob.vercel-storage.com/%5BZM%5D%20-%20%5BCH%5D%20-%20Removal%20Process_1.mp4', 
                'https://9bbqe2ddwjuwuyon.public.blob.vercel-storage.com/GYM%20Viral%20Effect.mp4', 
                'https://9bbqe2ddwjuwuyon.public.blob.vercel-storage.com/Food%20%20ShortForm.mp4', 
                'https://9bbqe2ddwjuwuyon.public.blob.vercel-storage.com/3D%20Edit.mp4',
                'https://9bbqe2ddwjuwuyon.public.blob.vercel-storage.com/Website%20Header2.mp4'
            ];
            
            const ORIGINAL_COUNT = contents.length;
            const TRANS_DUR = 500;
            // Place center roughly in middle of original set
            const CENTER_POS_IN_ORIGINAL = Math.floor(ORIGINAL_COUNT / 2); 

            const coverflow = document.getElementById('coverflow');
            if (!coverflow) return;
            
            function makeItem(content, sourceIndex) {
                const wrapper = document.createElement('div');
                wrapper.className = 'cf-item';
                wrapper.dataset.src = sourceIndex;
                const card = document.createElement('div');
                card.className = 'cf-card';
                
                // Create VIDEO element instead of IMG
                const video = document.createElement('video');
                video.src = content;
                video.muted = true; // Required for autoplay
                video.loop = true;
                video.playsInline = true;
                video.controls = false; // Hide controls for clean look
                // Prevent video capturing clicks so we can swipe
                video.style.pointerEvents = 'none'; 
                
                card.appendChild(video);
                wrapper.appendChild(card);
                return wrapper;
            }

            const domItems = [];
            // Create 3 copies for infinite loop illusion
            for (let copy = 0; copy < 3; copy++) {
                for (let i = 0; i < ORIGINAL_COUNT; i++) {
                    const node = makeItem(contents[i], i);
                    coverflow.appendChild(node);
                    domItems.push(node);
                }
            }

            let current = ORIGINAL_COUNT + CENTER_POS_IN_ORIGINAL;

            function getSpacing() {
                const wrap = document.getElementById("coverflow-wrap");
                const W = wrap ? wrap.offsetWidth : 1200; 
                return Math.round(Math.min(360, Math.max(160, W * 0.25))); 
            }
            
            function getX(dist, spacing) {
                if (dist === 1) return spacing * 1.5; 
                if (dist === 2) return spacing * 3.2; 
                return spacing * 4.0; 
            }

            function render(instant = false) {
                const spacing = getSpacing();

                domItems.forEach((el, i) => {
                    const offset = i - current;
                    const dist = Math.abs(offset);
                    const card = el.querySelector('.cf-card');
                    const video = el.querySelector('video');
                    
                    el.style.opacity = '0';
                    el.style.zIndex = '0';
                    if (card) card.classList.remove('anim-floating'); 

                    // Positional Logic
                    if (offset < 0) {
                        el.style.transform = `translateX(-50%) translateX(${-spacing * 5}px) translateZ(-1000px) scale(0.5) translateY(-50%)`;
                    } else {
                        el.style.transform = `translateX(-50%) translateX(${spacing * 5}px) translateZ(-1000px) scale(0.5) translateY(-50%)`;
                    }
                    
                    // CENTER ITEM
                    if (offset === 0) {
                        el.style.transform = `translateX(-50%) translateX(0px) scale(1) rotateY(0deg) translateZ(100px) translateY(-50%)`;
                        el.style.opacity = '1';
                        el.style.zIndex = 50;
                        if (card) card.classList.add('anim-floating'); 
                        
                        if(card) {
                            card.style.boxShadow = '0 0 25px rgba(99, 102, 241, 0.7)';
                            card.style.borderColor = 'rgba(99, 102, 241, 0.8)';
                            card.style.filter = 'brightness(1.1)';
                        }
                        
                        // PLAY VIDEO (Autoplay center)
                        if (video) {
                            // Must be muted for autoplay to work reliably
                            video.muted = true; 
                            const playPromise = video.play();
                            if (playPromise !== undefined) {
                                playPromise.catch(error => {
                                    // Auto-play was prevented
                                    console.log("Autoplay prevented");
                                });
                            }
                        }
                    } 
                    // SIDE ITEMS
                    else {
                        // PAUSE VIDEO (Pause sides)
                        if (video) {
                            video.pause();
                            video.currentTime = 0; // Optional: reset video
                        }

                        if (offset > 0 && offset <= 2) {
                            const d = offset;
                            const tx = getX(d, spacing);
                            const scale = 1 - (d * 0.15);
                            const ry = -(20 + (d * 5)); 
                            const z = 100 - (d * 60); 
                            
                            el.style.transform = `translateX(-50%) translateX(${tx}px) scale(${scale}) rotateY(${ry}deg) translateZ(${z}px) translateY(-50%)`;
                            el.style.opacity = d === 1 ? '0.7' : '0.1'; 
                            el.style.zIndex = 50 - d;
                        } 
                        else if (offset < 0 && offset >= -2) {
                            const d = Math.abs(offset);
                            const tx = -getX(d, spacing);
                            const scale = 1 - (d * 0.15); 
                            const ry = 20 + (d * 5); 
                            const z = 100 - (d * 60);

                            el.style.transform = `translateX(-50%) translateX(${tx}px) scale(${scale}) rotateY(${ry}deg) translateZ(${z}px) translateY(-50%)`;
                            el.style.opacity = d === 1 ? '0.7' : '0.1';
                            el.style.zIndex = 50 - d;
                        }

                        if(card) {
                            card.style.boxShadow = '0 6px 24px rgba(0,0,0,0.6) inset';
                            card.style.borderColor = 'rgba(255,255,255,0.04)';
                            card.style.filter = 'brightness(1)';
                        }
                    }
                    
                    if (instant) {
                        el.style.transition = 'none';
                    } else {
                        el.style.transition = '';
                    }
                });
            }

            let isAnimating = false;
            function goTo(newIndex) {
                if (isAnimating) return;
                isAnimating = true;
                current = newIndex;
                render(false);

                setTimeout(() => {
                    // Infinite loop jumping logic
                    if (current < ORIGINAL_COUNT) {
                        current += ORIGINAL_COUNT;
                        render(true); 
                    } else if (current >= ORIGINAL_COUNT * 2) {
                        current -= ORIGINAL_COUNT;
                        render(true); 
                    }
                    setTimeout(() => { isAnimating = false; render(false); }, 20);
                }, TRANS_DUR + 20);
            }

            const nextBtn = document.getElementById('nextCF');
            const prevBtn = document.getElementById('prevCF');
            if (nextBtn) nextBtn.addEventListener('click', () => goTo(current + 1));
            if (prevBtn) prevBtn.addEventListener('click', () => goTo(current - 1));

            let down = false, startX = 0, moved = false;
            const coverflowWrap = document.getElementById('coverflow-wrap');

            coverflowWrap.addEventListener('pointerdown', (e) => {
                if (e.target.closest('.cf-arrow')) return;
                if (isMobile) return; 

                down = true;
                startX = e.clientX;
                moved = false;
                e.currentTarget.setPointerCapture && e.currentTarget.setPointerCapture(e.pointerId);
            });
            coverflowWrap.addEventListener('pointermove', (e) => {
                if (!down) return;
                const diff = e.clientX - startX;
                if (Math.abs(diff) > 20) moved = true;
            });
            coverflowWrap.addEventListener('pointerup', (e) => {
                if (!down) return;
                down = false;
                const end = e.clientX;
                const diff = end - startX;
                if (diff > 60) goTo(current - 1);
                else if (diff < -60) goTo(current + 1);
                e.currentTarget.releasePointerCapture && e.currentTarget.releasePointerCapture(e.pointerId);
            });
            
            if (isMobile) {
                coverflowWrap.addEventListener('touchstart', (e) => { startX = e.touches[0].clientX; });
                coverflowWrap.addEventListener('touchend', (e) => {
                    const diff = e.changedTouches[0].clientX - startX;
                    if (diff > 60) goTo(current - 1);
                    else if (diff < -60) goTo(current + 1);
                });
            }

            window.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') goTo(current - 1);
                if (e.key === 'ArrowRight') goTo(current + 1);
            });

            window.addEventListener('resize', () => render(true));

            render(true);
            setTimeout(() => render(false), 50);
        })();
    </script>
</body>
</html>
