<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Portfolio of Amit - Professional Video Editor specializing in Real Estate, UGC, and Motion Graphics.">
    <meta name="keywords" content="Video Editor, Premiere Pro, After Effects, Real Estate Video, UGC, Motion Graphics, Portfolio">
    <meta name="author" content="Amit">
    <meta name="theme-color" content="#111827">
    
    <!-- PRELOAD ASSETS to avoid flicker -->
    <link rel="preload" as="image" href="https://9bbqe2ddwjuwuyon.public.blob.vercel-storage.com/hero.webp">
    <link rel="preload" as="video" href="https://cdn.jsdelivr.net/gh/Cybertron728/Amit/videos/Video%20ShowReel.mp4">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://amit-portfolio.vercel.app/">
    <meta property="og:title" content="Amit - Video Editor Portfolio">
    <meta property="og:description" content="Bringing your Story to Life with high-impact edits and motion graphics.">
    <meta property="og:image" content="https://9bbqe2ddwjuwuyon.public.blob.vercel-storage.com/hero.webp">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://amit-portfolio.vercel.app/">
    <meta property="twitter:title" content="Amit - Video Editor Portfolio">
    <meta property="twitter:description" content="Bringing your Story to Life with high-impact edits and motion graphics.">
    <meta property="twitter:image" content="https://9bbqe2ddwjuwuyon.public.blob.vercel-storage.com/hero.webp">

    <!-- Canonical Link -->
    <link rel="canonical" href="https://amit-portfolio.vercel.app/">

    <title>Video Editor Portfolio - Amit</title>
    
    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="32x32" href="https://9bbqe2ddwjuwuyon.public.blob.vercel-storage.com/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://9bbqe2ddwjuwuyon.public.blob.vercel-storage.com/favicon-16x16.png">
    <link rel="apple-touch-icon" href="https://9bbqe2ddwjuwuyon.public.blob.vercel-storage.com/apple-touch-icon.png">

    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        gray: {
                            900: '#111827',
                            800: '#1f2937',
                            700: '#374151',
                        },
                        indigo: {
                            400: '#818cf8',
                            500: '#6366f1',
                            600: '#4f46e5',
                        }
                    },
                    animation: {
                        'float': 'float-center 4s ease-in-out infinite',
                        'pulse-glow': 'pulse-glow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'swipe-hint': 'swipe-hint 2s ease-in-out infinite',
                    },
                    keyframes: {
                        'pulse-glow': {
                            '0%, 100%': { opacity: 1, boxShadow: '0 0 10px #6366f1' },
                            '50%': { opacity: .7, boxShadow: '0 0 25px #6366f1' },
                        },
                        'swipe-hint': {
                            '0%, 100%': { transform: 'translateX(0)', opacity: 0.5 },
                            '50%': { transform: 'translateX(-20px)', opacity: 1 },
                        }
                    }
                }
            }
        }
    </script>

    <!-- Google Fonts -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap');
    </style>

    <!-- MAIN STYLESHEET -->
    <style>
        :root {
            --cursor-size: 8px;
            --cursor-ring-size: 32px;
            --color-primary: #6366f1;
        }

        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
            overflow-x: hidden; 
            background-color: #111827;
            color: #f3f4f6;
        }

        :focus-visible {
            outline: 2px solid #818cf8;
            outline-offset: 4px;
        }

        /* ---------------- INTRO OVERLAY ---------------- */
        #intro-overlay {
            position: fixed;
            inset: 0;
            z-index: 9999;
            pointer-events: none;
            display: flex;
            flex-direction: column;
        }

        .intro-panel {
            position: absolute;
            left: 0;
            width: 100%;
            height: 50%;
            background: linear-gradient(135deg, #1f2937, #111827); 
            transform: translateY(0);
            transition: transform 1s cubic-bezier(0.16, 1, 0.3, 1);
            z-index: 10000;
            pointer-events: auto;
        }

        .intro-top { top: 0; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .intro-bottom { bottom: 0; border-top: 1px solid rgba(255,255,255,0.1); }

        .intro-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(1);
            font-size: 60px;
            font-weight: 900;
            color: #6366f1; 
            opacity: 1;
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
            z-index: 10001;
        }

        /* ---------------- HERO BG ---------------- */
        .hero-bg {
            background-image: url('https://9bbqe2ddwjuwuyon.public.blob.vercel-storage.com/hero.webp'); 
            background-size: cover;
            background-position: center;
            opacity: 0.4; 
            position: absolute;
            inset: 0;
            z-index: -2;
            will-change: transform;
        }
        @media (max-width: 640px) {
            .hero-bg { background-position: center center; } 
        }

        .hero-overlay {
            position: absolute;
            inset: 0;
            z-index: -1;
            background: linear-gradient(to top, #111827 5%, rgba(17, 24, 39, 0.7) 50%, rgba(17, 24, 39, 0.4) 100%);
        }
        
        #hero-sub, #hero-buttons {
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
            will-change: opacity, transform;
        }

        .typing-cursor::after {
            content: '|';
            animation: blink 1s step-start infinite;
            color: #6366f1; 
            margin-left: 2px;
        }
        @keyframes blink { 50% { opacity: 0; } }

        /* ---------------- PATTERNS ---------------- */
        .bg-pattern {
            position: absolute;
            left: 0;
            width: 100%;
            z-index: 0;
            background-image: repeating-linear-gradient(90deg, transparent 0, transparent 60px, rgba(99, 102, 241, 0.07) 60px, rgba(99, 102, 241, 0.15) 100px, rgba(99, 102, 241, 0.07) 140px, transparent 140px, transparent 240px);
            pointer-events: none;
            transform: translateZ(0);
        }

        .showreel-bg-pattern { top: 0; height: 60%; -webkit-mask-image: linear-gradient(to bottom, transparent, black 20%, black 80%, transparent); mask-image: linear-gradient(to bottom, transparent, black 20%, black 80%, transparent); }
        .contact-bg-pattern { top: 0; height: 100%; -webkit-mask-image: linear-gradient(to bottom, transparent, black 40%, black 60%, transparent); mask-image: linear-gradient(to bottom, transparent, black 40%, black 60%, transparent); }

        .contact-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 120%;
            height: 100%;
            transform: translate(-50%, -50%);
            background: radial-gradient(circle, rgba(99, 102, 241, 0.1) 0%, transparent 70%);
            pointer-events: none;
            z-index: -1;
        }

        /* ---------------- ANIMATIONS ---------------- */
        .hide-initial { opacity: 0; transform: translateY(30px); }
        .animate-in { opacity: 1; transform: translateY(0); transition: opacity 0.8s ease-out, transform 0.8s ease-out; }

        @media (prefers-reduced-motion: reduce) {
            .animate-in, .cf-item, .cf-card { transition: none !important; animation: none !important; transform: none !important; }
            .hide-initial { opacity: 1; transform: none; }
        }

        /* ---------------- CUSTOM CURSOR ---------------- */
        @media (pointer: fine) {
            body { cursor: none; }
            a, button, input, textarea, .cf-card, .cf-arrow, iframe, .tubelight-container, video, .lightbox-overlay { cursor: none !important; }
            .cursor-dot, .cursor-ring { display: block; }
        }
        @media (pointer: coarse) {
            .cursor-dot, .cursor-ring { display: none !important; }
            body { cursor: auto; }
        }

        .cursor-dot, .cursor-ring {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 10000;
            transform: translate(-50%, -50%);
        }
        .cursor-dot { width: 8px; height: 8px; background-color: #6366f1; border-radius: 50%; }
        .cursor-ring {
            width: 32px; height: 32px;
            border: 1px solid rgba(99, 102, 241, 0.5);
            border-radius: 50%;
            transition: width 0.2s, height 0.2s, background-color 0.2s, border-color 0.2s;
        }
        body.cursor-pointer-active .cursor-dot { background-color: #e0f2f1; }
        body.cursor-pointer-active .cursor-ring {
            width: 50px; height: 50px;
            border-color: rgba(99, 102, 241, 0.8);
            background-color: rgba(99, 102, 241, 0.15);
        }

        /* ---------------- VIDEO WRAPPER ---------------- */
        .video-wrapper {
            position: relative;
            padding-bottom: 56.25%;
            background-color: #000;
            border-radius: 0.75rem;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.15);
        }
        .video-wrapper video { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; }
        
        #showreel-wrapper {
            opacity: 0;
            transition: opacity 1.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* ---------------- CINEMA MODE ---------------- */
        #cinema-overlay {
            position: fixed; inset: 0;
            background: rgba(10, 10, 15, 0.96); 
            z-index: 9990; opacity: 0; pointer-events: none;
            transition: opacity 0.6s ease;
            backdrop-filter: blur(4px);
        }
        body.cinema-active #cinema-overlay { opacity: 1; pointer-events: auto; }
        
        body.cinema-active #portfolio .section-content { z-index: 9995; position: relative; }
        
        body.cinema-active #portfolio .section-content > *:not(#showreel-container):not(.showreel-header) {
            opacity: 0.15; filter: blur(4px) grayscale(80%);
            transition: opacity 0.5s ease, filter 0.5s ease; pointer-events: none;
        }
        
        body.cinema-active #showreel-wrapper { z-index: 9999; transform: scale(1.02); box-shadow: 0 0 50px rgba(0,0,0,0.8); }

        .tubelight-container {
            display: flex; flex-direction: column; align-items: center;
            cursor: pointer; margin-top: 1rem; opacity: 0.8; transition: opacity 0.3s;
            position: relative;
        }
        body.cinema-active .tubelight-container {
            opacity: 1 !important;
            pointer-events: auto !important;
            filter: none !important;
            z-index: 10002;
        }

        .tubelight-container:hover { opacity: 1; }
        .tubelight {
            width: 60px; height: 6px; background: #e0e7ff; border-radius: 9999px;
            box-shadow: 0 0 10px #fff, 0 0 20px #6366f1, 0 0 40px #6366f1; transition: all 0.3s ease;
        }
        
        /* Attention pulsing for cinema mode */
        .cinema-attention .tubelight {
            animation: pulse-glow 2s infinite;
        }
        
        body.cinema-active .tubelight { background: #6366f1; box-shadow: 0 0 5px #818cf8, 0 0 15px #6366f1; animation: none; }
        
        .tubelight-label {
            margin-top: 8px; font-size: 0.75rem; color: #818cf8; font-weight: 600; text-transform: uppercase;
            opacity: 0; transform: translateY(-5px); transition: all 0.3s ease;
        }
        .tubelight-container:hover .tubelight-label { opacity: 1; transform: translateY(0); }
        
        /* Force label visible state */
        .tubelight-label.force-visible {
            opacity: 1 !important; transform: translateY(0) !important;
        }

        body.cinema-active .tubelight-label { opacity: 1 !important; transform: translateY(0) !important; color: #fff; }

        /* ---------------- NEW EFFICIENT CAROUSEL ---------------- */
        #coverflow-wrap {
            height: 460px;
            perspective: 1000px; 
            position: relative;
            overflow: visible; 
            margin-top: 2rem;
        }

        .cf-item {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 260px; 
            aspect-ratio: 9 / 16;
            transform-style: preserve-3d;
            transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1), opacity 0.4s ease, z-index 0s; 
            will-change: transform, opacity;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            background: #1f2937;
            /* Allow clicking the item to trigger JS */
            cursor: pointer;
        }

        .cf-card {
            width: 100%;
            height: 100%;
            border-radius: 12px;
            overflow: hidden;
            position: relative;
            border: 1px solid rgba(255,255,255,0.1);
            background: #1f2937; 
            display: flex; 
            align-items: center;
            justify-content: center;
            color: #ccc;
        }
        
        .cf-card:empty { background-color: #24303a; }

        .cf-card video {
            width: 100%; height: 100%; object-fit: cover; display: block;
            opacity: 0; transition: opacity 0.5s ease;
        }
        
        .cf-card iframe {
            width: 100%; height: 100%; border: none; display: block;
            opacity: 0; transition: opacity 0.5s ease;
        }
        
        .cf-card.loaded video, .cf-card.loaded iframe { opacity: 1; }
        
        /* --- Updated Placeholder to match Intro "Split Screen" --- */
        .cf-card .cf-placeholder {
            position: absolute; inset: 0;
            background: linear-gradient(135deg, #1f2937, #111827);
            display: flex; align-items: center; justify-content: center;
            opacity: 1; transition: opacity 0.3s ease;
            z-index: 5;
        }
        
        .cf-card.loaded .cf-placeholder { opacity: 0; pointer-events: none; }

        /* Inner Split Lines for Placeholder */
        .cf-placeholder::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; height: 50%;
            border-bottom: 1px solid rgba(255,255,255,0.05); pointer-events: none;
        }
        
        .cf-placeholder-icon {
            font-size: 32px; font-weight: 900; color: #6366f1; 
            text-shadow: 0 0 15px rgba(99, 102, 241, 0.3);
        }

        .cf-overlay {
            position: absolute; inset: 0; z-index: 10; cursor: pointer;
        }

        .cf-item.active-item .cf-card {
            box-shadow: 0 0 30px rgba(99, 102, 241, 0.5);
            border-color: #6366f1;
        }

        .cf-arrow {
            background: rgba(17, 24, 39, 0.8); color: white; border: 1px solid rgba(255, 255, 255, 0.1);
            width: 48px; height: 48px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            backdrop-filter: blur(4px); transition: all 0.2s; 
            z-index: 200; cursor: pointer !important;
        }
        .cf-arrow:hover { background: #4f46e5; border-color: #6366f1; transform: scale(1.1); }
        .cf-arrow:active { transform: scale(0.95); }

        @media (max-width: 640px) {
            #coverflow-wrap { height: 380px; }
            .cf-item { width: 180px; }
        }

        .text-glow { text-shadow: 0 0 20px rgba(99, 102, 241, 0.4); }
        .nav-link.active { color: #818cf8; position: relative; }
        .nav-link.active::after {
            content: ''; position: absolute; bottom: -2px; left: 0; width: 100%; height: 2px;
            background-color: #6366f1; box-shadow: 0 0 8px #6366f1;
        }
        .visually-hidden { position: absolute; width: 1px; height: 1px; margin: -1px; padding: 0; overflow: hidden; clip: rect(0, 0, 0, 0); border: 0; }
    </style>
</head>
<body class="antialiased selection:bg-indigo-500 selection:text-white">

    <div id="cinema-overlay" aria-hidden="true"></div>

    <div id="intro-overlay" role="presentation">
        <div class="intro-panel intro-top"></div>
        <div class="intro-panel intro-bottom"></div>
        <div class="intro-icon">A</div>
    </div>

    <div class="cursor-dot"></div>
    <div class="cursor-ring"></div>

    <!-- Header -->
    <header class="fixed top-0 w-full z-50 bg-gray-900/95 backdrop-blur-md shadow-lg border-b border-gray-800 transition-all duration-300" id="main-header">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex justify-between items-center">
            <h1 class="text-2xl font-black tracking-tight text-white hover:text-indigo-400 transition-colors cursor-pointer" onclick="window.scrollTo(0,0)">
                Amit<span class="text-indigo-500">.</span>
            </h1>
            
            <nav class="hidden sm:flex space-x-1">
                <a href="#hero" class="nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors">Home</a>
                <a href="#portfolio" class="nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors">Portfolio</a>
                <a href="#about" class="nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors">About</a>
                <a href="#contact" class="nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors">Contact</a>
            </nav>

            <button id="mobile-menu-btn" class="sm:hidden text-gray-300 hover:text-white focus:outline-none p-2" aria-label="Menu">
                <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"/></svg>
            </button>
        </div>

        <div id="mobile-menu" class="hidden sm:hidden absolute top-16 left-0 w-full bg-gray-900 border-b border-gray-800 shadow-2xl transition-all duration-300">
            <div class="px-4 py-4 flex flex-col space-y-2">
                <a href="#hero" class="mobile-link block px-4 py-3 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-800 transition">Home</a>
                <a href="#portfolio" class="mobile-link block px-4 py-3 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-800 transition">Portfolio</a>
                <a href="#about" class="mobile-link block px-4 py-3 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-800 transition">About</a>
                <a href="#contact" class="mobile-link block px-4 py-3 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-800 transition">Contact</a>
            </div>
        </div>
    </header>

    <main id="main-content">
        <!-- Hero -->
        <section id="hero" class="relative flex flex-col items-center justify-center text-center min-h-screen pt-16 overflow-hidden" aria-label="Introduction">
            <div class="hero-bg" role="img"></div>
            <div class="hero-overlay"></div>
            <div class="relative z-10 px-4 w-full max-w-4xl mx-auto">
                <h1 class="text-5xl sm:text-7xl md:text-8xl font-black text-white mb-6 opacity-0 translate-y-4 tracking-tight" id="hero-title"></h1>
                <p class="text-lg sm:text-xl md:text-2xl text-gray-300 max-w-2xl mx-auto opacity-0 translate-y-4 font-light leading-relaxed" id="hero-sub">Bringing your Story to Life with precision editing.</p>
                <div class="mt-10 flex flex-col sm:flex-row justify-center gap-4 opacity-0 translate-y-4" id="hero-buttons">
                    <a href="#portfolio" class="px-8 py-3.5 rounded-full bg-indigo-600 text-white font-bold shadow-lg shadow-indigo-500/30 hover:bg-indigo-700 hover:scale-105 transition-all duration-200">View Work</a>
                    <a href="#contact" class="px-8 py-3.5 rounded-full bg-transparent text-white font-bold border border-gray-600 hover:bg-gray-800 hover:border-gray-500 transition-all duration-200">Get in Touch</a>
                </div>
            </div>
            <div class="absolute bottom-8 w-full flex justify-center animate-bounce opacity-50">
                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>
            </div>
        </section>

        <!-- Portfolio -->
        <section id="portfolio" class="relative pt-4 pb-24 sm:py-32 bg-gray-900 overflow-hidden">
            <div class="bg-pattern showreel-bg-pattern"></div>
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 section-content hide-initial relative z-10">
                
                <!-- Showreel Header Class Added for Selector Targeting -->
                <div class="text-center mb-6 showreel-header">
                    <h2 class="text-3xl sm:text-4xl font-extrabold text-white mb-2 text-glow">Showreel</h2>
                    
                    <!-- Updated Toggle with Awareness Classes -->
                    <div class="tubelight-container cinema-attention" id="cinema-toggle" role="button" aria-pressed="false" tabindex="0" title="Toggle Cinema Mode">
                        <div class="tubelight"></div>
                        <span class="tubelight-label">Dim Lights</span>
                    </div>
                </div>

                <div id="showreel-container" class="max-w-3xl mx-auto mb-20 sm:mb-24">
                    <div id="showreel-wrapper" class="rounded-xl p-1 bg-gradient-to-br from-gray-700 to-gray-900 shadow-2xl transition-transform duration-500">
                        <div class="video-wrapper relative group">
                            <video id="main-showreel" class="w-full h-full object-cover opacity-0 transition-opacity duration-500" muted playsinline loop controls>
                                <source id="main-showreel-source" src="https://cdn.jsdelivr.net/gh/Cybertron728/Amit/videos/Video%20ShowReel.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                            
                            <div class="absolute bottom-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                <button id="mute-toggle" class="bg-black/60 hover:bg-indigo-600 text-white p-2 rounded-full backdrop-blur-sm transition-colors">
                                    <svg id="icon-muted" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2" /></svg>
                                    <svg id="icon-sound" class="w-5 h-5 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" /></svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- CAROUSEL -->
                <div id="more-projects" class="mt-32 sm:mt-40 text-center">
                    <h3 class="text-3xl font-bold text-white mb-2">Edits</h3>
                    <!-- Hints for User -->
                    <div class="flex justify-center items-center gap-2 mb-10 text-sm text-gray-400">
                        <span class="hidden md:inline-flex items-center gap-1 bg-gray-800/50 px-3 py-1 rounded-full border border-gray-700">
                            <svg class="w-4 h-4 text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/></svg>
                            Click to Zoom
                        </span>
                        <span class="md:hidden inline-flex items-center gap-1 bg-gray-800/50 px-3 py-1 rounded-full border border-gray-700">
                            <svg class="w-4 h-4 text-indigo-400 animate-swipe-hint" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"/></svg>
                            Swipe
                        </span>
                    </div>

                    <div class="relative w-full">
                        <div id="coverflow-wrap" class="relative w-full mx-auto hide-initial opacity-0 transition-opacity duration-1000">
                            <div id="coverflow" class="absolute inset-0 cursor-grab active:cursor-grabbing">
                                <!-- Items injected by JS -->
                            </div>
                            
                            <div class="absolute -bottom-16 left-1/2 -translate-x-1/2 flex gap-8 z-200 pointer-events-none">
                                <button id="prevCF" class="cf-arrow pointer-events-auto shadow-lg" aria-label="Previous">
                                    <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
                                </button>
                                <button id="nextCF" class="cf-arrow pointer-events-auto shadow-lg" aria-label="Next">
                                    <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
        </section>

        <!-- About -->
        <section id="about" class="py-20 sm:py-32 bg-gray-900 border-t border-gray-800">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 section-content hide-initial">
                <div class="lg:grid lg:grid-cols-2 lg:gap-16 items-start">
                    <div class="mb-12 lg:mb-0">
                        <h3 class="text-3xl sm:text-4xl font-extrabold text-white mb-8">The Editor Behind the Screen</h3>
                        <div class="space-y-8">
                            <div class="flex gap-4">
                                <div class="w-12 h-12 rounded-xl bg-indigo-500/10 text-indigo-400 flex items-center justify-center border border-indigo-500/20 flex-shrink-0"><svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg></div>
                                <div><h4 class="text-xl font-bold text-white mb-2">Visual Storytelling</h4><p class="text-gray-400">My journey began with YouTube content creation, evolving into a passion for crafting narratives that engage and retain audiences.</p></div>
                            </div>
                            <div class="flex gap-4">
                                <div class="w-12 h-12 rounded-xl bg-indigo-500/10 text-indigo-400 flex items-center justify-center border border-indigo-500/20 flex-shrink-0"><svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" /></svg></div>
                                <div><h4 class="text-xl font-bold text-white mb-2">Niche Expertise</h4><p class="text-gray-400">Specialized in high-end Real Estate walkthroughs and fast-paced UGC/Short-form content designed for viral growth.</p></div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl border border-gray-700 shadow-xl">
                        <h4 class="text-2xl font-bold text-white mb-6">Technical Arsenal</h4>
                        <div class="grid grid-cols-2 gap-4 mb-8">
                            <div class="p-4 rounded-xl bg-gray-900 border border-gray-700 flex items-center gap-3"><div class="font-black text-purple-400 text-lg">Pr</div><div class="text-sm font-semibold text-gray-200">Premiere Pro</div></div>
                            <div class="p-4 rounded-xl bg-gray-900 border border-gray-700 flex items-center gap-3"><div class="font-black text-indigo-400 text-lg">Ae</div><div class="text-sm font-semibold text-gray-200">After Effects</div></div>
                            <div class="p-4 rounded-xl bg-gray-900 border border-gray-700 flex items-center gap-3"><div class="font-black text-blue-400 text-lg">Ps</div><div class="text-sm font-semibold text-gray-200">Photoshop</div></div>
                            <div class="p-4 rounded-xl bg-gray-900 border border-gray-700 flex items-center gap-3"><div class="font-black text-rose-400 text-lg">Dv</div><div class="text-sm font-semibold text-gray-200">Resolve</div></div>
                        </div>
                        <div>
                            <h5 class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-3">Capabilities</h5>
                            <div class="flex flex-wrap gap-2">
                                <span class="px-3 py-1 bg-gray-700/50 rounded-lg text-xs font-medium text-gray-300">Motion Graphics</span>
                                <span class="px-3 py-1 bg-gray-700/50 rounded-lg text-xs font-medium text-gray-300">Color Grading</span>
                                <span class="px-3 py-1 bg-gray-700/50 rounded-lg text-xs font-medium text-gray-300">Sound Design</span>
                                <span class="px-3 py-1 bg-gray-700/50 rounded-lg text-xs font-medium text-gray-300">3D Camera Tracking</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact -->
        <section id="contact" class="relative py-20 sm:py-32 bg-gray-900 overflow-hidden">
            <div class="contact-glow"></div>
            <div class="bg-pattern contact-bg-pattern"></div>
            <div class="max-w-2xl mx-auto px-4 text-center section-content hide-initial relative z-10">
                <h3 class="text-4xl font-extrabold text-white mb-4">Let's Create Together</h3>
                <p class="text-xl text-gray-400 mb-10">Ready to elevate your content? Reach out directly via WhatsApp or Email.</p>
                <div class="flex flex-col sm:flex-row justify-center gap-4 sm:gap-6">
                    <a href="https://wa.me/917284020388" target="_blank" class="group flex items-center justify-center px-8 py-4 rounded-xl bg-green-600 text-white font-bold text-lg shadow-lg hover:bg-green-700 transition-all duration-200">
                        <svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                        WhatsApp
                    </a>
                    <a href="mailto:amitparmar7990@gmail.com" class="group flex items-center justify-center px-8 py-4 rounded-xl bg-gray-800 text-indigo-400 font-bold text-lg border border-gray-700 hover:bg-gray-700 transition-all duration-200">
                        <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                        Email Me
                    </a>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-gray-900 border-t border-gray-800 py-8 text-center">
        <p class="text-gray-500 text-sm">&copy; 2025 Amit. All Rights Reserved.</p>
    </footer>

    <!-- MAIN SCRIPT -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // === INTRO ===
            setTimeout(() => {
                document.querySelector('.intro-top').style.transform = 'translateY(-100%)';
                document.querySelector('.intro-bottom').style.transform = 'translateY(100%)';
                document.querySelector('.intro-icon').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('intro-overlay').style.display = 'none';
                    animateHero();
                }, 500);
            }, 200);

            function animateHero() {
                const title = document.getElementById('hero-title');
                const txt = "Real to Reel";
                title.style.opacity = 1; title.style.transform = 'translateY(0)';
                title.classList.add('typing-cursor');
                let i = 0;
                function type() {
                    if (i < txt.length) { title.textContent += txt.charAt(i); i++; setTimeout(type, 80); }
                    else { setTimeout(() => { title.classList.remove('typing-cursor'); revealHero(); }, 300); }
                }
                type();
            }

            function revealHero() {
                ['hero-sub', 'hero-buttons'].forEach(id => {
                    const el = document.getElementById(id);
                    if(el) { el.style.opacity = '1'; el.style.transform = 'translateY(0)'; }
                });
                initApp();
            }

            // === MAIN APP INIT ===
            function initApp() {
                initHeader();
                initScrollObserver();
                initCarousel();
                initCustomCursor();
                initCinema();
            }

            // === HEADER / MOBILE MENU ===
            function initHeader() {
                const btn = document.getElementById('mobile-menu-btn');
                const menu = document.getElementById('mobile-menu');
                const links = document.querySelectorAll('.mobile-link');

                if(btn && menu) {
                    btn.addEventListener('click', () => {
                        menu.classList.toggle('hidden');
                    });
                    links.forEach(l => {
                        l.addEventListener('click', () => menu.classList.add('hidden'));
                    });
                }
            }

            // === SCROLL OBSERVER & VIDEO FADE-IN ===
            function initScrollObserver() {
                const obs = new IntersectionObserver((entries, o) => {
                    entries.forEach(e => {
                        if (e.isIntersecting) {
                            e.target.classList.remove('hide-initial');
                            e.target.classList.add('animate-in');
                            if(e.target.id === 'coverflow-wrap') e.target.style.opacity = '1';
                            o.unobserve(e.target);
                        }
                    });
                }, { threshold: 0.1 });
                document.querySelectorAll('.section-content, #coverflow-wrap').forEach(el => obs.observe(el));

                // ScrollSpy
                const navLinks = document.querySelectorAll('.nav-link');
                const spy = new IntersectionObserver((entries) => {
                    entries.forEach(e => {
                        if(e.isIntersecting) {
                            navLinks.forEach(l => l.classList.toggle('active', l.getAttribute('href') === `#${e.target.id}`));
                        }
                    });
                }, { threshold: 0.3 });
                document.querySelectorAll('section').forEach(s => spy.observe(s));

                // SHOWREEL LOADING AND PLAYBACK LOGIC
                const showreel = document.getElementById('main-showreel');
                const wrapper = document.getElementById('showreel-wrapper');
                
                showreel.addEventListener('loadeddata', () => {
                    // Start playing and fade in once video metadata and some data are loaded
                    showreel.play().catch(e => console.log("Showreel Autoplay prevented:", e));
                    wrapper.style.opacity = '1';
                    showreel.style.opacity = '1';
                });

                showreel.load();
                
                // Cinema mode playback pause/play
                const cinemaObserver = new MutationObserver(mutations => {
                    mutations.forEach(mutation => {
                        if (mutation.attributeName === 'class') {
                            if (document.body.classList.contains('cinema-active')) {
                                showreel.play().catch(e => console.log("Showreel Play Error:", e));
                            } else {
                                showreel.pause();
                            }
                        }
                    });
                });
                cinemaObserver.observe(document.body, { attributes: true });

                // Mute/Unmute toggle for showreel
                const muteBtn = document.getElementById('mute-toggle');
                let isMuted = true;
                if(muteBtn) {
                    muteBtn.addEventListener('click', () => {
                        isMuted = !isMuted;
                        showreel.muted = isMuted;
                        showreel.volume = isMuted ? 0 : 1; 
                        document.getElementById('icon-muted').classList.toggle('hidden', !isMuted);
                        document.getElementById('icon-sound').classList.toggle('hidden', isMuted);
                    });
                }
            }

            // === CINEMA MODE ===
            function initCinema() {
                const toggle = document.getElementById('cinema-toggle');
                const body = document.body;
                
                // --- NEW: Show hint only when element is in view ---
                const hintObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if(entry.isIntersecting) {
                            const label = toggle.querySelector('.tubelight-label');
                            label.classList.add('force-visible');
                            // Remove hint after 4 seconds
                            setTimeout(() => {
                                label.classList.remove('force-visible');
                            }, 4000);
                            // Stop observing after triggering once
                            hintObserver.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.5 });
                
                // Start observing the toggle container
                hintObserver.observe(toggle);

                
                // Cinema toggle
                toggle.addEventListener('click', (e) => {
                    e.stopPropagation();
                    body.classList.toggle('cinema-active');
                    toggle.classList.remove('cinema-attention'); 
                    
                    const label = toggle.querySelector('.tubelight-label');
                    if (body.classList.contains('cinema-active')) {
                        label.textContent = "Lights On";
                    } else {
                        label.textContent = "Dim Lights";
                    }
                });

                document.getElementById('cinema-overlay').addEventListener('click', () => {
                    body.classList.remove('cinema-active');
                    toggle.querySelector('.tubelight-label').textContent = "Dim Lights";
                });
                
                window.addEventListener('keydown', (e) => { 
                    if(e.key === 'Escape') {
                        body.classList.remove('cinema-active');
                        toggle.querySelector('.tubelight-label').textContent = "Dim Lights";
                    }
                });
            }

            // === CUSTOM CURSOR ===
            function initCustomCursor() {
                if (!window.matchMedia("(pointer: fine)").matches) return;
                const dot = document.querySelector('.cursor-dot');
                const ring = document.querySelector('.cursor-ring');
                let mx = 0, my = 0, rx = 0, ry = 0;
                
                document.addEventListener('mousemove', e => { mx = e.clientX; my = e.clientY; dot.style.transform = `translate(${mx}px, ${my}px) translate(-50%, -50%)`; });
                function loop() {
                    rx += (mx - rx) * 0.2; ry += (my - ry) * 0.2;
                    ring.style.transform = `translate(${rx}px, ${ry}px) translate(-50%, -50%)`;
                    requestAnimationFrame(loop);
                }
                loop();
                
                document.querySelectorAll('a, button, input, video').forEach(el => {
                    el.addEventListener('mouseenter', () => document.body.classList.add('cursor-pointer-active'));
                    el.addEventListener('mouseleave', () => document.body.classList.remove('cursor-pointer-active'));
                });
            }

            // === EFFICIENT CAROUSEL (Deferred Loading for Native Video) ===
            function initCarousel() {
                // All video IDs are now data objects (type: 'webm' assumed for CDN links)
                const videoData = [
                    { type: 'webm', id: 'https://cdn.jsdelivr.net/gh/Cybertron728/Amit/videos/food.webm' }, 
                    { type: 'webm', id: 'https://cdn.jsdelivr.net/gh/Cybertron728/Amit/videos/Gym%20Viral%20Effect.webm' }, 
                    { type: 'webm', id: 'https://cdn.jsdelivr.net/gh/Cybertron728/Amit/videos/Website%20Header2.webm' },
                    { type: 'webm', id: 'https://cdn.jsdelivr.net/gh/Cybertron728/Amit/videos/%5BZm%5D%20-%20%5BCh%5D%20-%20Removal%20Process.webm' },
                    { type: 'webm', id: 'https://cdn.jsdelivr.net/gh/Cybertron728/Amit/videos/resized.webm' },
                    { type: 'webm', id: 'https://cdn.jsdelivr.net/gh/Cybertron728/Amit/videos/3D%20Edit.webm' } 
                ];

                const container = document.getElementById('coverflow');
                if(!container) return;
                
                container.innerHTML = '';

                // Create Item Objects and Placeholder HTML
                const items = videoData.map((data, i) => {
                    const el = document.createElement('div');
                    el.className = 'cf-item';
                    el.style.opacity = 0; 
                    
                    // --- UPDATED PLACEHOLDER WITH SPLIT SCREEN LOGO STYLE ---
                    el.innerHTML = `
                        <div class="cf-card">
                            <div class="cf-placeholder">
                                <div class="cf-placeholder-icon">A</div>
                            </div>
                            <div class="cf-overlay"></div>
                            <!-- video will be injected later -->
                        </div>`;
                        
                    container.appendChild(el);
                    
                    // Reveal the card placeholder immediately
                    setTimeout(() => { el.style.opacity = 1; }, 300 + (i * 100));
                    
                    // ** Added lastDist for tracking wrap-around **
                    return { el, data, index: i, loaded: false, card: el.querySelector('.cf-card'), isZoomed: false, lastDist: 0 };
                });

                let currentIndex = 0;
                let isDragging = false;
                let startX = 0;
                
                // Helper to create and inject the native video element
                function loadMediaPlayer(item) {
                    if (item.loaded) return;
                    
                    if (item.data.type === 'webm') {
                        // NATIVE <VIDEO> TAG
                        const mediaElement = document.createElement('video');
                        mediaElement.src = item.data.id;
                        mediaElement.muted = true;
                        mediaElement.loop = true;
                        mediaElement.playsInline = true;
                        mediaElement.autoplay = true; 
                        mediaElement.controls = false;
                        mediaElement.className = 'w-full h-full object-cover';
                        
                        // Add an event listener to trigger the fade-in once data is available
                        mediaElement.addEventListener('loadeddata', () => {
                            item.card.classList.add('loaded');
                        });
                        
                        // Start loading the video
                        mediaElement.load();
                        
                        // Append the new media element
                        item.card.appendChild(mediaElement);
                        item.loaded = true;
                        item.mediaElement = mediaElement; // Store reference
                        
                        return mediaElement;
                    }
                    return null;
                }

                function controlPlayback(item, play) {
                    if (!item.loaded || !item.mediaElement) return;

                    if (item.data.type === 'webm') {
                        // Native video control
                        if (play) {
                            // Only mute if NOT zoomed
                            item.mediaElement.muted = !item.isZoomed;
                            item.mediaElement.play().catch(e => console.log("Video Play Error:", e));
                        } else {
                            item.mediaElement.pause();
                            item.mediaElement.currentTime = 0; 
                        }
                    } 
                }

                function update(instant = false) {
                    const width = document.getElementById('coverflow-wrap').offsetWidth;
                    const spacing = Math.min(260, width * 0.25);
                    
                    items.forEach((item, i) => {
                        let dist = i - currentIndex;
                        const len = items.length;
                        if (dist > len / 2) dist -= len;
                        if (dist < -len / 2) dist += len;
                        const absDist = Math.abs(dist);
                        
                        // Reset zoom if not the current item
                        if (dist !== 0 && item.isZoomed) {
                            item.isZoomed = false;
                            if(item.mediaElement) item.mediaElement.muted = true;
                        }

                        // Visibility Check (Only render items within 2 steps)
                        if (absDist > 3) {
                            item.el.style.display = 'none';
                            controlPlayback(item, false); 
                        } else {
                            item.el.style.display = 'block';
                            
                            // CALCULATE TRANSFORMS
                            // --- FIXED: Even spacing for outer items ---
                            const dir = dist < 0 ? -1 : 1;
                            let x = 0;
                            
                            if(absDist > 0) {
                                // Step 1: Center -> Neighbor (Keep the good spacing)
                                x = spacing * 1.1; 
                                
                                // Step 2+: Neighbor -> Outer (Increased multiplier to match standard spacing)
                                if(absDist > 1) {
                                    x += (absDist - 1) * (spacing * 1.0); 
                                }
                                x *= dir;
                            }

                            const z = -absDist * 100; // Less depth push (was 150)
                            const rotateY = -dist * 15; // Less rotation (was 25)
                            let scale = 1 - (absDist * 0.1); // Less shrinking (was 0.15)
                            let opacity = 1 - (absDist * 0.3);
                            
                            // Apply Zoom Effect if active
                            if (dist === 0 && item.isZoomed) {
                                scale = 1.3; // Zoom in by 30%
                            }
                            
                            item.el.style.transform = `translateX(-50%) translate3d(${x}px, 0, ${z}px) rotateY(${rotateY}deg) scale(${scale}) translateY(-50%)`;
                            item.el.style.zIndex = (100 - absDist) + (item.isZoomed ? 100 : 0); // Boost z-index if zoomed
                            item.el.style.opacity = opacity;
                            
                            // --- DEFERRED LOADING TRIGGER ---
                            loadMediaPlayer(item);
                            
                            // --- Playback Control ---
                            const shouldPlay = (dist === 0);
                            controlPlayback(item, shouldPlay);

                            if (dist === 0) item.el.classList.add('active-item');
                            else item.el.classList.remove('active-item');
                        }
                        
                        // --- FIX: Detect Wrap-Around to prevent "fly through" ---
                        // If distance jumps significantly (e.g. from 3 to -2), disable transition
                        let useTransition = !instant;
                        const distDiff = Math.abs(dist - item.lastDist);
                        if (useTransition && distDiff > 2) {
                            useTransition = false; // Snap instantly
                        }
                        
                        item.el.style.transition = useTransition ? 'transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1), opacity 0.5s, z-index 0s' : 'none';
                        item.lastDist = dist; // Store current distance for next frame comparison
                        
                        // Update Click Listener for Zoom vs Navigation
                        const overlay = item.el.querySelector('.cf-overlay');
                        overlay.onclick = (e) => {
                            e.stopPropagation();
                            if (dist === 0) {
                                // Toggle Zoom
                                item.isZoomed = !item.isZoomed;
                                
                                // Toggle Sound on Zoom
                                if(item.mediaElement) {
                                    item.mediaElement.muted = !item.isZoomed;
                                }
                                
                                update(); // Re-render to apply new scale
                            } else {
                                move(dist);
                            }
                        };
                    });
                }

                function move(dir) {
                    currentIndex = (currentIndex + dir + items.length) % items.length;
                    update();
                }

                document.getElementById('prevCF').onclick = () => move(-1);
                document.getElementById('nextCF').onclick = () => move(1);
                window.addEventListener('keydown', e => {
                    if(e.key === 'ArrowLeft') move(-1);
                    if(e.key === 'ArrowRight') move(1);
                });

                const wrap = document.getElementById('coverflow-wrap');
                const handleStart = (x) => { isDragging = true; startX = x; };
                const handleEnd = (x) => {
                    if (!isDragging) return;
                    isDragging = false;
                    const diff = x - startX;
                    if (Math.abs(diff) > 50) move(diff > 0 ? -1 : 1);
                };

                wrap.addEventListener('mousedown', e => handleStart(e.clientX));
                wrap.addEventListener('mouseup', e => handleEnd(e.clientX));
                wrap.addEventListener('touchstart', e => handleStart(e.touches[0].clientX));
                wrap.addEventListener('touchend', e => handleEnd(e.changedTouches[0].clientX));

                setTimeout(() => update(true), 1000);
            }
        });
    </script>
</body>
</html>
